{"Variables":{"DashboardVariables":[{"VariableName":"SafeRed","EvaluateOnlyOnce":true,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":3,"Interpreter":1,"Expression":"return '#FFFF6345';"},"EvaluateBeforeScreenRoles":false},{"VariableName":"SafeBlue","EvaluateOnlyOnce":true,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":3,"Interpreter":1,"Expression":"return '#43B7EA';"},"EvaluateBeforeScreenRoles":false},{"VariableName":"DriverInfo","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":1,"Interpreter":1,"Expression":"// Shared driver info about all cars.\r\n// We use a Dashboard Variable to optimize because in order to refresh the DriverInfo, we need to iterate over all cars and this would need to be done for each property needing that info. With a Dashboard Variable it is done once for all properties.\r\n// Also it allows the logic to keep being evaluated even if the overlay elements aren't visible, as SimHub does not evaluate properties of hidden elements.\r\n\r\n// De-initialize when game not running, and before the race starts\r\nif (!isGameRunning() || (isRace() && getSessionState(0) < 4))\r\n{  \r\n\troot[\"sessionTime\"] = null;\r\n    root[\"driverInfo\"] = null;\r\n    root[\"refreshTime\"] = null;\r\n    return null;\r\n}\r\n\r\n// De-initialize when changing/restarting session\r\nconst sessionTime = NewRawData().Telemetry[\"SessionTime\"];\r\nif (root[\"sessionTime\"] == null || sessionTime < root[\"sessionTime\"])\r\n{\r\n\troot[\"sessionTime\"] = sessionTime;    \r\n    root[\"driverInfo\"] = null;\r\n    root[\"refreshTime\"] = null;\r\n    return null;\r\n}\r\n\r\n// Initialize\r\nif (root[\"driverInfo\"] == null)\r\n{\r\n    root[\"driverInfo\"] = [];\r\n    root[\"refreshTime\"] = Date.now();\r\n    //log(\"driverInfo initialized\");\r\n}\r\n\r\n// Refresh the data at a given interval\r\nif (root[\"refreshTime\"] <= Date.now())\r\n{\r\n\troot[\"refreshTime\"] = Date.now() + root['refreshInterval'];\r\n\t   \r\n    for (let i = 0; i < 64; i++) \r\n    {\r\n        const number = getLeaderboardProp('CarNumber', 0, i);\r\n        if (number == null || number == '')\r\n        {\r\n            continue;\r\n        }\r\n\r\n        let info = root[\"driverInfo\"][number];\r\n        if (info == null)\r\n        {\r\n            info = {\r\n                inPitSince: null,\r\n                currentLap: 0,\r\n                outLap: 0,\r\n            };\r\n        }\r\n            \r\n        info.currentLap = getLeaderboardProp('CurrentLap', 0, i);    \r\n        const inPit = getLeaderboardProp('IsInPit', 0, i);\r\n        \r\n        if (inPit)\r\n        {\r\n        \tif (info.inPitSince == null)\r\n        \t{\r\n        \t\tinfo.inPitSince = Date.now()\r\n        \t}\r\n        }\r\n        else\r\n        {\r\n        \t// If the driver is in pit for a short time, consider this a glitch in telemetry.\r\n        \tif (info.inPitSince != null\r\n        \t\t&& info.inPitSince + 1500 < Date.now())\r\n        \t{\r\n\t            // Remember the lap when they exited the pit.\r\n\t            // We use 'their' lap, not the leader's lap.\r\n\t            info.outLap = info.currentLap;\r\n\t            \r\n\t            // Edge case when the pit exit is before the finish line.\r\n\t            // The currentLap will increment, so consider the next lap an out lap too.\r\n\t            let trackPct = getLeaderboardProp('LapDistPct', 0, i);\r\n\t            if (trackPct > 0.5)\r\n\t            {\r\n\t            \tinfo.outLap++;\r\n\t            }\r\n\t        }\r\n\t        \r\n\t        info.inPitSince = null;\r\n        }\r\n        \r\n        root[\"driverInfo\"][number] = info;\r\n    }\r\n}\r\n\r\nroot[\"sessionTime\"] = sessionTime;\r\nreturn root[\"driverInfo\"];","PreExpression":"// Interval in ms at which we refresh the array. Set 0 to use SimHub's min interval.\r\nroot['refreshInterval'] = 0;"},"EvaluateBeforeScreenRoles":false}]},"DashboardDebugManager":{"WindowPositionSettings":{"IsFullScreen":false,"Position":"2632,132,305,170","TopMost":false,"AllowTransparency":true,"CloseOnMonitorLoss":false,"NoWindowActivate":false}},"Version":2,"Id":"4cba8e2c-b2ef-4d1a-a00b-47a8deea1582","BaseHeight":170,"BaseWidth":305,"BackgroundColor":"#FF000000","Screens":[{"RenderingSkip":0,"Name":"Screen","InGameScreen":true,"IdleScreen":true,"PitScreen":false,"ScreenId":"12d56db1-30dc-4b34-8846-702d971cf5b6","AllowOverlays":true,"IsForegroundLayer":false,"IsOverlayLayer":false,"OverlayTriggerExpression":{"Expression":""},"ScreenEnabledExpression":{"Expression":""},"OverlayMaxDuration":0,"OverlayMinDuration":0,"IsBackgroundLayer":false,"BackgroundColor":"#00FFFFFF","Items":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":2,"PrepareRepetitions":true,"RepeatTopOffset":20.0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF000000","Height":20.0,"Left":0.0,"Opacity":60.0,"Top":105.0,"Visible":true,"Width":305.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"59.6","TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"UseMonospacedText":true,"CharWidth":8.0,"SpecialCharsWidth":3.0,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":270.0,"Top":105.0,"Visible":true,"Width":28.0,"Name":"GapToPlayer","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"FormatString":"0.0","Formula":{"JSExt":3,"Interpreter":1,"Expression":"return Math.abs(getIndexedProp('IRacingExtraProperties.RLB_Behind_RelativeGapToPlayer', repeatindex()));"},"Mode":2},"Visible":{"Formula":{"Expression":"[IRacingExtraProperties.GapTrackingReady]"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Behind_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":11.0,"Text":"10.0k","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFF0000","BorderStyle":{"BorderColor":"#83000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":231.0,"Top":107.0,"Visible":true,"Width":33.0,"Name":"iRating","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var rating = getIndexedProp('IRacingExtraProperties.RLB_Behind_LicenceString', repeatindex());\r\nreturn String(rating).substring(1, 7);"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Behind_LicenceColor', repeatindex());"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Behind_LicenceTextColor', repeatindex());"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"Driver Name","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":65.0,"Top":105.0,"Visible":true,"Width":157.0,"Name":"DriverName","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Behind_Name', repeatindex());"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Behind_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingBottom":1},"FontSize":11.0,"Text":"OUT","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFFD100","BorderStyle":{"BorderColor":"#FF000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":200.0,"Top":107.0,"Visible":true,"Width":31.0,"Name":"OutLap","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"let driverInfo = $prop('variable.DriverInfo');\r\nif (driverInfo == null)\r\n{\r\n    return false;\r\n}\r\n\r\nconst number = getIndexedProp('IRacingExtraProperties.RLB_Behind_CarNumber', repeatindex());\r\nlet info = driverInfo[number];\r\nif (info == null)\r\n{\r\n    return false;\r\n}\r\n\r\nif (isRace() && info.currentLap == 0)\r\n{\r\n    return false;\r\n}\r\n\r\nif (info.inPitSince)\r\n{\r\n\treturn false;\r\n}\r\n\r\nreturn info.outLap >= info.currentLap;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"#555","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FF40E0D0","Height":20.0,"Left":25.0,"Top":105.0,"Visible":true,"Width":34.0,"Name":"Number","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return '#' + getIndexedProp('IRacingExtraProperties.RLB_Behind_CarNumber', repeatindex());"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Behind_ClassColor', repeatindex());"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"66. ","TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":1.0,"Top":105.0,"Visible":true,"Width":25.0,"Name":"PositionInClass","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"const position = getIndexedProp('IRacingExtraProperties.RLB_Behind_PositionInClass', repeatindex());\r\nreturn position > 0 ? position : '';"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Behind_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}}],"Visible":true,"Name":"Visible","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"Expression":"isnull(prop('IRacingExtraProperties.RLB_Behind_Name_0'+repeatindex()),'')!=''"},"Mode":2}}}],"Visible":true,"Name":"Behind (repeat)","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF000000","Height":20.0,"Left":0.0,"Opacity":60.0,"Top":85.0,"Visible":true,"Width":305.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":11.0,"Text":"10.0k","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFF0000","BorderStyle":{"BorderColor":"#83000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":231.0,"Top":87.0,"Visible":true,"Width":33.0,"Name":"iRating","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var rating = $prop('iRacingExtraProperties.iRacing_Player_LicenceString');\r\nreturn String(rating).substring(1, 7);"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return $prop('iRacingExtraProperties.iRacing_Player_LicenceColor');"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return $prop('iRacingExtraProperties.iRacing_Player_LicenceTextColor');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"Driver Name","TextColor":"#FFEBAE00","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":65.0,"Top":85.0,"Visible":true,"Width":157.0,"Name":"DriverName","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return $prop('IRacingExtraProperties.RLB_Player_Name');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingBottom":1},"FontSize":11.0,"Text":"OUT","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFFD100","BorderStyle":{"BorderColor":"#FF000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":200.0,"Top":87.0,"Visible":true,"Width":31.0,"Name":"OutLap","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"let driverInfo = $prop('variable.DriverInfo');\r\nif (driverInfo == null)\r\n{\r\n\treturn false;\r\n}\r\n\r\nlet number = $prop('IRacingExtraProperties.iRacing_Player_CarNumber');\r\nlet info = driverInfo[number];\r\nif (info == null)\r\n{\r\n\treturn false;\r\n}\r\n\r\nif (isRace() && info.currentLap == 0)\r\n{\r\n\treturn false;\r\n}\r\n\r\nif (info.inPitSince)\r\n{\r\n\treturn false;\r\n}\r\n\r\nreturn info.outLap >= info.currentLap;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"#555","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FF40E0D0","Height":20.0,"Left":25.0,"Top":85.0,"Visible":true,"Width":34.0,"Name":"Number","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return '#' + $prop('IRacingExtraProperties.iRacing_Player_CarNumber');"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return $prop('iRacingExtraProperties.iRacing_Player_ClassColor');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"66. ","TextColor":"#FFEBAE00","HorizontalAlignment":2,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":1.0,"Top":85.0,"Visible":true,"Width":25.0,"Name":"PositionInClass","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"FormatString":"0'.' ","Formula":{"JSExt":3,"Interpreter":1,"Expression":"const position = $prop('IRacingExtraProperties.iRacing_Player_PositionInClass');\r\nreturn position > 0 ? position : '';"},"Mode":2}}}],"Visible":true,"Name":"Me","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":2,"PrepareRepetitions":true,"RepeatTopOffset":-20.0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF000000","Height":20.0,"Left":0.0,"Opacity":60.0,"Top":65.0,"Visible":true,"Width":305.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"59.6","TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"UseMonospacedText":true,"CharWidth":8.0,"SpecialCharsWidth":3.0,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":270.0,"Top":65.0,"Visible":true,"Width":28.0,"Name":"GapToPlayer","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"FormatString":"0.0","Formula":{"JSExt":3,"Interpreter":1,"Expression":"return Math.abs(getIndexedProp('IRacingExtraProperties.RLB_Ahead_RelativeGapToPlayer', repeatindex()));"},"Mode":2},"Visible":{"Formula":{"Expression":"[IRacingExtraProperties.GapTrackingReady]"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Ahead_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":11.0,"Text":"10.0k","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFF0000","BorderStyle":{"BorderColor":"#83000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":231.0,"Top":67.0,"Visible":true,"Width":33.0,"Name":"iRating","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var rating = getIndexedProp('IRacingExtraProperties.RLB_Ahead_LicenceString', repeatindex());\r\nreturn String(rating).substring(1, 7);"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Ahead_LicenceColor', repeatindex());"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Ahead_LicenceTextColor', repeatindex());"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"Driver Name","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":65.0,"Top":65.0,"Visible":true,"Width":157.0,"Name":"DriverName","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Ahead_Name', repeatindex());"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Ahead_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingBottom":1},"FontSize":11.0,"Text":"OUT","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFFD100","BorderStyle":{"BorderColor":"#FF000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":200.0,"Top":67.0,"Visible":true,"Width":31.0,"Name":"OutLap","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"let driverInfo = $prop('variable.DriverInfo');\r\nif (driverInfo == null)\r\n{\r\n    return false;\r\n}\r\n\r\nconst number = getIndexedProp('IRacingExtraProperties.RLB_Ahead_CarNumber', repeatindex());\r\nlet info = driverInfo[number];\r\nif (info == null)\r\n{\r\n    return false;\r\n}\r\n\r\nif (isRace() && info.currentLap == 0)\r\n{\r\n    return false;\r\n}\r\n\r\nif (info.inPitSince)\r\n{\r\n    return false;\r\n}\r\n\r\nreturn info.outLap >= info.currentLap;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"#555","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FF40E0D0","Height":20.0,"Left":25.0,"Top":65.0,"Visible":true,"Width":34.0,"Name":"Number","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return '#' + getIndexedProp('IRacingExtraProperties.RLB_Ahead_CarNumber', repeatindex());"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Ahead_ClassColor', repeatindex());"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"66. ","TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":1.0,"Top":65.0,"Visible":true,"Width":25.0,"Name":"PositionInClass","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"const position = getIndexedProp('IRacingExtraProperties.RLB_Ahead_PositionInClass', repeatindex());\r\nreturn position > 0 ? position : '';"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Ahead_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}}],"Visible":true,"Name":"Visible","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"Expression":"isnull(prop('IRacingExtraProperties.RLB_Ahead_Name_0'+repeatindex()),'')!=''"},"Mode":2}}}],"Visible":true,"Name":"Ahead (repeat)","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return isGameIRacing() && isDriving();"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF000000","BorderStyle":{"RadiusTopLeft":3,"RadiusTopRight":3},"Height":20.0,"Left":0.0,"Opacity":90.0,"Top":2.0,"Visible":true,"Width":305.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.BuiltIn.TimeText, SimHub.Plugins","Format":"HH:mm","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":18.0,"Left":255.0,"Top":2.0,"Visible":true,"Width":45.0,"Name":"Time","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"x22/50","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":180.0,"Top":2.0,"Visible":true,"Width":50.0,"Name":"Incidents","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"var inc = isnull($prop('DataCorePlugin.GameRawData.Telemetry.PlayerCarTeamIncidentCount'),0);\r\nvar limit = $prop('DataCorePlugin.GameRawData.SessionData.WeekendInfo.WeekendOptions.IncidentLimit');\r\n\r\nvar limitText = 0;\r\nif (limit == 'unlimited')\r\n{\r\n\tlimitText = '∞';\r\n}\r\nelse if (limit >= 0)\r\n{\r\n\tlimitText = limit;\r\n}\r\n\r\nreturn 'x' + inc + '/' + limitText;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"SoF 10.0k","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":90.0,"Top":2.0,"Visible":true,"Width":65.0,"Name":"SoF","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return 'SoF ' + $prop('IRacingExtraProperties.iRacing_Class_SOFk');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"45°C","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":5.0,"Top":2.0,"Visible":true,"Width":60.0,"Name":"TrackTemp","OriginalName":"TrackTemp","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var temp = $prop('RoadTemperature').toFixed(0);\r\nvar units = String($prop('TemperatureUnit')).substring(0, 1);\r\n\r\nreturn temp + '°' + units;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"22:22:22","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":5.0,"Top":2.0,"Visible":false,"Width":60.0,"Name":"Timer","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"Expression":"toshorttime(\r\n\r\n\r\nif(![DataCorePlugin.GameRunning],'--:--.---',(\r\n\r\nif(isnull([DataCorePlugin.CurrentGame],0)=='IRacing'\r\n,\r\n(\r\nif(\r\n(isnull([DataCorePlugin.GameRawData.Telemetry.SessionTimeRemain],0)<>604800),\r\nsecondstotimespan(isnull([DataCorePlugin.GameRawData.Telemetry.SessionTimeRemain],0)),'∞')\r\n)\r\n,isnull([DataCorePlugin.GameData.NewData.SessionTimeLeft],0))\r\n))\r\n\r\n,0,0,1)"},"Mode":2}}}],"Visible":true,"Name":"Header","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0}],"Visible":true,"Name":"Visible","RenderingSkip":50,"MinimumRefreshIntervalMS":500.0,"Bindings":{"Visible":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return isGameIRacing() && isDriving();"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Segoe UI","FontWeight":"Bold","FontSize":12.0,"Text":"New version available","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFF0000","BorderStyle":{"RadiusTopLeft":3,"RadiusTopRight":3,"RadiusBottomLeft":3,"RadiusBottomRight":3},"Height":18.0,"Left":54.0,"Top":0.0,"Visible":false,"Width":205.0,"IsFreezed":true,"Name":"Version","RenderingSkip":50,"MinimumRefreshIntervalMS":500.0,"Bindings":{"Visible":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"if (root['hide'])\r\n{\r\n\treturn false;\r\n}\r\n\r\nconst url = 'https://raw.githubusercontent.com/fixfactory/bo2-official-overlays/main/Versions.json';\r\n\r\nconst jsonStr = downloadstringasync(500, url);\r\n\r\nif (jsonStr) \r\n{\r\n\tconst json = JSON.parse(jsonStr);\r\n\tif (json[root['name']] != root['version']) \r\n\t{\r\n        if (!root['timeChecked'])\r\n        {\r\n\t\t\troot['timeChecked'] = Date.now();\r\n\t\t}\r\n\r\n\t\tif (((Date.now() - root['timeChecked'])) < 5000)\r\n\t\t{\r\n\t\t\treturn true;\r\n        }\r\n    }\r\n    else\r\n    {\r\n        root['hide'] = true;\r\n    }\r\n}\r\n\r\nreturn false;","PreExpression":"// Download new version at https://github.com/fixfactory/bo2-official-overlays\r\nroot['name'] = 'relative'\r\nroot['version'] = '1.5'"},"Mode":2}}}],"MinimumRefreshIntervalMS":0.0}],"SnapToGrid":true,"HideLabels":true,"ShowForeground":true,"ForegroundOpacity":100.0,"ShowBackground":true,"BackgroundOpacity":100.0,"ShowBoundingRectangles":false,"GridSize":5,"Images":[],"Metadata":{"SimHubVersion":"9.6.1","Title":"benofficial2 - iRacing Relative","Author":"twitch.tv/benofficial2","ScreenCount":1.0,"InGameScreensIndexs":[0],"IdleScreensIndexs":[0],"MainPreviewIndex":0,"IsOverlay":true,"Width":305.0,"Height":170.0,"OverlaySizeWarning":false,"MetadataVersion":2.0,"EnableOnDashboardMessaging":true,"PitScreensIndexs":[]},"ShowOnScreenControls":true,"IsOverlay":true,"EnableClickThroughOverlay":true,"EnableOnDashboardMessaging":true}