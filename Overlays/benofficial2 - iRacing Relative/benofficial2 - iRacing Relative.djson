{"Variables":{"DashboardVariables":[{"VariableName":"SafeRed","EvaluateOnlyOnce":true,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":3,"Interpreter":1,"Expression":"return '#FFFF6345';"},"EvaluateBeforeScreenRoles":false},{"VariableName":"SafeBlue","EvaluateOnlyOnce":true,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":3,"Interpreter":1,"Expression":"return '#43B7EA';"},"EvaluateBeforeScreenRoles":false}]},"DashboardDebugManager":{"WindowPositionSettings":{"IsFullScreen":false,"Position":"2288,122,305,170","TopMost":false,"AllowTransparency":true,"CloseOnMonitorLoss":false,"NoWindowActivate":false}},"Version":2,"Id":"b75ef831-9e55-49d1-abf8-a8e17cb12948","BaseHeight":170,"BaseWidth":305,"BackgroundColor":"#FF000000","Screens":[{"RenderingSkip":0,"Name":"Screen","InGameScreen":true,"IdleScreen":true,"PitScreen":false,"ScreenId":"12d56db1-30dc-4b34-8846-702d971cf5b6","AllowOverlays":true,"IsForegroundLayer":false,"IsOverlayLayer":false,"OverlayTriggerExpression":{"Expression":""},"ScreenEnabledExpression":{"Expression":""},"OverlayMaxDuration":0,"OverlayMinDuration":0,"IsBackgroundLayer":false,"BackgroundColor":"#00FFFFFF","Items":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":2,"PrepareRepetitions":true,"RepeatTopOffset":20.0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF000000","Height":20.0,"Left":0.0,"Opacity":60.0,"Top":105.0,"Visible":true,"Width":305.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"59.6","TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"UseMonospacedText":true,"CharWidth":8.0,"SpecialCharsWidth":3.0,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":270.0,"Top":105.0,"Visible":true,"Width":28.0,"Name":"GapToPlayer","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"FormatString":"0.0","Formula":{"JSExt":3,"Interpreter":1,"Expression":"return Math.abs(getIndexedProp('IRacingExtraProperties.RLB_Behind_RelativeGapToPlayer', repeatindex()));"},"Mode":2},"Visible":{"Formula":{"Expression":"[IRacingExtraProperties.GapTrackingReady]"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Behind_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":11.0,"Text":"10.0k","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFF0000","BorderStyle":{"BorderColor":"#83000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":231.0,"Top":107.0,"Visible":true,"Width":33.0,"Name":"iRating","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var rating = getIndexedProp('IRacingExtraProperties.RLB_Behind_LicenceString', repeatindex());\r\nreturn String(rating).substring(1, 7);"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Behind_LicenceColor', repeatindex());"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Behind_LicenceTextColor', repeatindex());"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"Driver Name","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":65.0,"Top":105.0,"Visible":true,"Width":157.0,"Name":"DriverName","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Behind_Name', repeatindex());"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Behind_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingBottom":1},"FontSize":11.0,"Text":"OUT","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFFD100","BorderStyle":{"BorderColor":"#FF000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":200.0,"Top":107.0,"Visible":true,"Width":31.0,"Name":"OutLap","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"// De-initialize when not running or changing session.\r\nconst sessionName = $prop('DataCorePlugin.GameData.SessionTypeName');\r\nif (!isGameRunning() || root[\"sessionName\"] != sessionName)\r\n{\r\n    root[\"sessionName\"] = sessionName;\r\n    root[\"driverInfo\"] = null;\r\n    root[\"refreshTime\"] = null;\r\n    return false;\r\n}\r\n\r\n// Initialize the data.\r\nif (root[\"driverInfoMap\"] == null)\r\n{\r\n    root[\"driverInfoMap\"] = new Map();\r\n    root[\"refreshTime\"] = Date.now();    \r\n}\r\n\r\n// Refresh the data once per second.\r\nif (root[\"refreshTime\"] <= Date.now())\r\n{\r\n\troot[\"refreshTime\"] = Date.now() + 1000;\r\n    let classIndex = $prop('IRacingExtraProperties.iRacing_Player_ClassIndex');\r\n\r\n\tfor (let i = 0; i < 64; i++) \r\n    {\r\n        const number = getLeaderboardProp('CarNumber', classIndex, i);\r\n        if (number == null || number == '')\r\n        {\r\n            continue;\r\n        }\r\n\r\n        let driverInfo = root[\"driverInfoMap\"].get(number);\r\n        if (driverInfo == null)\r\n        {\r\n            driverInfo = {\r\n                inPitSince: null,\r\n                currentLap: 0,\r\n                outLap: 0,\r\n            };\r\n        }\r\n            \r\n        driverInfo.currentLap = getLeaderboardProp('CurrentLap', classIndex, i);    \r\n        const inPit = getLeaderboardProp('IsInPit', classIndex, i);\r\n        if (inPit)\r\n        {\r\n        \tif (driverInfo.inPitSince == null)\r\n        \t{\r\n        \t\tdriverInfo.inPitSince = Date.now()\r\n        \t}\r\n        }\r\n        else\r\n        {\r\n        \t// If the driver is in pit for a short time, consider this a glitch in telemetry.\r\n        \tif (driverInfo.inPitSince != null\r\n        \t\t&& driverInfo.inPitSince + 1500 < Date.now())\r\n        \t{\r\n\t            // Remember the lap when they exited the pit.\r\n\t            // We use 'their' lap, not the leader's lap.\r\n\t            driverInfo.outLap = driverInfo.currentLap;\r\n\t        }\r\n\t        \r\n\t        driverInfo.inPitSince = null;\r\n        }\r\n\r\n        root[\"driverInfoMap\"].set(number, driverInfo);\r\n    }\r\n}\r\n\r\n// Get the data.\r\n// Using a map for fast access.\r\nconst number = getIndexedProp('IRacingExtraProperties.RLB_Behind_CarNumber', repeatindex());\r\nconst driverInfo = root[\"driverInfoMap\"].get(number);\r\nif (!driverInfo)\r\n{\r\n    // If they're not on the leaderboard, and are on our relative, then they must be on an out lap.\r\n    return true;\r\n}\r\n\r\nif (isRace() && driverInfo.currentLap == 0)\r\n{\r\n    return false;\r\n}\r\n\r\nif (!driverInfo.inPitSince)\r\n{\r\n    return driverInfo.outLap == driverInfo.currentLap;\r\n}\r\n\r\nreturn false;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"#555","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FF40E0D0","Height":20.0,"Left":25.0,"Top":105.0,"Visible":true,"Width":34.0,"Name":"Number","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return '#' + getIndexedProp('IRacingExtraProperties.RLB_Behind_CarNumber', repeatindex());"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Behind_ClassColor', repeatindex());"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"66. ","TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":1.0,"Top":105.0,"Visible":true,"Width":25.0,"Name":"PositionInClass","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"const position = getIndexedProp('IRacingExtraProperties.RLB_Behind_PositionInClass', repeatindex());\r\nreturn position > 0 ? position : '';"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Behind_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}}],"Visible":true,"Name":"Visible","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"Expression":"isnull(prop('IRacingExtraProperties.RLB_Behind_Name_0'+repeatindex()),'')!=''"},"Mode":2}}}],"Visible":true,"Name":"Behind (repeat)","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF000000","Height":20.0,"Left":0.0,"Opacity":60.0,"Top":85.0,"Visible":true,"Width":305.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":11.0,"Text":"10.0k","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFF0000","BorderStyle":{"BorderColor":"#83000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":231.0,"Top":87.0,"Visible":true,"Width":33.0,"Name":"iRating","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var rating = $prop('iRacingExtraProperties.iRacing_Player_LicenceString');\r\nreturn String(rating).substring(1, 7);"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return $prop('iRacingExtraProperties.iRacing_Player_LicenceColor');"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return $prop('iRacingExtraProperties.iRacing_Player_LicenceTextColor');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"Driver Name","TextColor":"#FFEBAE00","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":65.0,"Top":85.0,"Visible":true,"Width":157.0,"Name":"DriverName","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return $prop('IRacingExtraProperties.RLB_Player_Name');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingBottom":1},"FontSize":11.0,"Text":"OUT","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFFD100","BorderStyle":{"BorderColor":"#FF000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":200.0,"Top":87.0,"Visible":true,"Width":31.0,"Name":"OutLap","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"// De-initialize when not running or changing session.\r\nconst sessionName = $prop('DataCorePlugin.GameData.SessionTypeName');\r\nif (!isGameRunning() || root[\"sessionName\"] != sessionName)\r\n{\r\n\troot[\"sessionName\"] = sessionName;\r\n\troot[\"driverInfo\"] = null;\r\n    root[\"refreshTime\"] = null;\r\n    return false;\r\n}\r\n\r\n// Initialize the data.\r\nif (root[\"driverInfo\"] == null)\r\n{\r\n\troot[\"driverInfo\"] = {\r\n\t\tinPitSince: null,\r\n\t\tcurrentLap: 0,\r\n\t\toutLap: 0,\r\n\t};\r\n    root[\"refreshTime\"] = Date.now();    \r\n}\r\n\r\n// Refresh the data once per second.\r\nif (root[\"refreshTime\"] <= Date.now())\r\n{\r\n\troot[\"refreshTime\"] = Date.now() + 1000;\r\n\troot[\"driverInfo\"].currentLap = $prop('IRacingExtraProperties.iRacing_Player_CurrentLap');\t\r\n\tconst inPit = $prop('DataCorePlugin.GameData.IsInPit');\r\n\tif (inPit)\r\n\t{\r\n\t\tif (root[\"driverInfo\"].inPitSince == null)\r\n\t\t{\r\n\t\t\troot[\"driverInfo\"].inPitSince = Date.now();\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\t// If the driver was in pit for a short time, consider this a glitch in telemetry.\r\n\t\tif (root[\"driverInfo\"].inPitSince != null \r\n\t\t\t&& root[\"driverInfo\"].inPitSince + 1500 < Date.now())\r\n\t\t{\r\n\t\t\t// Remember the lap when they exited the pit.\r\n\t\t\t// We use 'their' lap, not the leader's lap.\r\n\t\t\troot[\"driverInfo\"].outLap = root[\"driverInfo\"].currentLap;\r\n\t\t}\r\n\t\t\r\n\t\troot[\"driverInfo\"].inPitSince = null;\r\n\t}\t\r\n}\r\n\r\n// Get the data.\r\nif (isRace() && root[\"driverInfo\"].currentLap == 0)\r\n{\r\n\treturn false;\r\n}\r\n\r\nif (!root[\"driverInfo\"].inPitSince)\r\n{\r\n\treturn root[\"driverInfo\"].outLap == root[\"driverInfo\"].currentLap;\r\n}\r\n\r\nreturn false;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"#555","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FF40E0D0","Height":20.0,"Left":25.0,"Top":85.0,"Visible":true,"Width":34.0,"Name":"Number","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return '#' + $prop('IRacingExtraProperties.iRacing_Player_CarNumber');"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return $prop('iRacingExtraProperties.iRacing_Player_ClassColor');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"66. ","TextColor":"#FFEBAE00","HorizontalAlignment":2,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":1.0,"Top":85.0,"Visible":true,"Width":25.0,"Name":"PositionInClass","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"FormatString":"0'.' ","Formula":{"JSExt":3,"Interpreter":1,"Expression":"const position = $prop('IRacingExtraProperties.iRacing_Player_PositionInClass');\r\nreturn position > 0 ? position : '';"},"Mode":2}}}],"Visible":true,"Name":"Me","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":2,"PrepareRepetitions":true,"RepeatTopOffset":-20.0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF000000","Height":20.0,"Left":0.0,"Opacity":60.0,"Top":65.0,"Visible":true,"Width":305.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"59.6","TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"UseMonospacedText":true,"CharWidth":8.0,"SpecialCharsWidth":3.0,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":270.0,"Top":65.0,"Visible":true,"Width":28.0,"Name":"GapToPlayer","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"FormatString":"0.0","Formula":{"JSExt":3,"Interpreter":1,"Expression":"return Math.abs(getIndexedProp('IRacingExtraProperties.RLB_Ahead_RelativeGapToPlayer', repeatindex()));"},"Mode":2},"Visible":{"Formula":{"Expression":"[IRacingExtraProperties.GapTrackingReady]"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Ahead_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":11.0,"Text":"10.0k","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFF0000","BorderStyle":{"BorderColor":"#83000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":231.0,"Top":67.0,"Visible":true,"Width":33.0,"Name":"iRating","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var rating = getIndexedProp('IRacingExtraProperties.RLB_Ahead_LicenceString', repeatindex());\r\nreturn String(rating).substring(1, 7);"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Ahead_LicenceColor', repeatindex());"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Ahead_LicenceTextColor', repeatindex());"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"Driver Name","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":65.0,"Top":65.0,"Visible":true,"Width":157.0,"Name":"DriverName","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Ahead_Name', repeatindex());"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Ahead_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingBottom":1},"FontSize":11.0,"Text":"OUT","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFFD100","BorderStyle":{"BorderColor":"#FF000000","BorderTop":1,"BorderBottom":1,"BorderLeft":1,"BorderRight":1,"RadiusTopLeft":4,"RadiusTopRight":4,"RadiusBottomLeft":4,"RadiusBottomRight":4},"Height":16.0,"Left":200.0,"Top":67.0,"Visible":true,"Width":31.0,"Name":"OutLap","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"// De-initialize when not running or changing session.\r\nconst sessionName = $prop('DataCorePlugin.GameData.SessionTypeName');\r\nif (!isGameRunning() || root[\"sessionName\"] != sessionName)\r\n{\r\n    root[\"sessionName\"] = sessionName;\r\n    root[\"driverInfo\"] = null;\r\n    root[\"refreshTime\"] = null;\r\n    return false;\r\n}\r\n\r\n// Initialize the data.\r\nif (root[\"driverInfoMap\"] == null)\r\n{\r\n    root[\"driverInfoMap\"] = new Map();\r\n    root[\"refreshTime\"] = Date.now();    \r\n}\r\n\r\n// Refresh the data once per second.\r\nif (root[\"refreshTime\"] <= Date.now())\r\n{\r\n\troot[\"refreshTime\"] = Date.now() + 1000;\r\n    let classIndex = $prop('IRacingExtraProperties.iRacing_Player_ClassIndex');\r\n    \r\n    for (let i = 0; i < 64; i++) \r\n    {\r\n        const number = getLeaderboardProp('CarNumber', classIndex, i);\r\n        if (number == null || number == '')\r\n        {\r\n            continue;\r\n        }\r\n\r\n        let driverInfo = root[\"driverInfoMap\"].get(number);\r\n        if (driverInfo == null)\r\n        {\r\n            driverInfo = {\r\n                inPitSince: null,\r\n                currentLap: 0,\r\n                outLap: 0,\r\n            };\r\n        }\r\n            \r\n        driverInfo.currentLap = getLeaderboardProp('CurrentLap', classIndex, i);    \r\n        const inPit = getLeaderboardProp('IsInPit', classIndex, i);\r\n        if (inPit)\r\n        {\r\n        \tif (driverInfo.inPitSince == null)\r\n        \t{\r\n        \t\tdriverInfo.inPitSince = Date.now()\r\n        \t}\r\n        }\r\n        else\r\n        {\r\n        \t// If the driver is in pit for a short time, consider this a glitch in telemetry.\r\n        \tif (driverInfo.inPitSince != null\r\n        \t\t&& driverInfo.inPitSince + 1500 < Date.now())\r\n        \t{\r\n\t            // Remember the lap when they exited the pit.\r\n\t            // We use 'their' lap, not the leader's lap.\r\n\t            driverInfo.outLap = driverInfo.currentLap;\r\n\t        }\r\n\t        \r\n\t        driverInfo.inPitSince = null;\r\n        }\r\n        \r\n        root[\"driverInfoMap\"].set(number, driverInfo);\r\n    }\r\n}\r\n\r\n// Get the data.\r\n// Using a map for fast access.\r\nconst number = getIndexedProp('IRacingExtraProperties.RLB_Ahead_CarNumber', repeatindex());\r\nconst driverInfo = root[\"driverInfoMap\"].get(number);\r\nif (!driverInfo)\r\n{\r\n    // If they're not on the leaderboard, and are on our relative, then they must be on an out lap.\r\n    return true;\r\n}\r\n\r\nif (isRace() && driverInfo.currentLap == 0)\r\n{\r\n    return false;\r\n}\r\n\r\nif (!driverInfo.inPitSince)\r\n{\r\n    return driverInfo.outLap == driverInfo.currentLap;\r\n}\r\n\r\nreturn false;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"#555","TextColor":"#FF000000","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FF40E0D0","Height":20.0,"Left":25.0,"Top":65.0,"Visible":true,"Width":34.0,"Name":"Number","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return '#' + getIndexedProp('IRacingExtraProperties.RLB_Ahead_CarNumber', repeatindex());"},"Mode":2},"BackgroundColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return getIndexedProp('IRacingExtraProperties.RLB_Ahead_ClassColor', repeatindex());"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"66. ","TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":1.0,"Top":65.0,"Visible":true,"Width":25.0,"Name":"PositionInClass","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"const position = getIndexedProp('IRacingExtraProperties.RLB_Ahead_PositionInClass', repeatindex());\r\nreturn position > 0 ? position : '';"},"Mode":2},"TextColor":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var color = getIndexedProp('IRacingExtraProperties.RLB_Ahead_LineColor', repeatindex());\r\nif (color == 'Red')\r\n{\r\n\treturn $prop('variable.SafeRed');\r\n}\r\nelse if (color == 'Blue')\r\n{\r\n\treturn $prop('variable.SafeBlue');\r\n}\r\nreturn 'White';"},"Mode":2}}}],"Visible":true,"Name":"Visible","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"Expression":"isnull(prop('IRacingExtraProperties.RLB_Ahead_Name_0'+repeatindex()),'')!=''"},"Mode":2}}}],"Visible":true,"Name":"Ahead (repeat)","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return isGameIRacing() && isDriving();"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF000000","Height":20.0,"Left":0.0,"Opacity":90.0,"Top":2.0,"Visible":true,"Width":305.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.BuiltIn.TimeText, SimHub.Plugins","Format":"HH:mm","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":18.0,"Left":255.0,"Top":2.0,"Visible":true,"Width":45.0,"Name":"Time","RenderingSkip":59,"MinimumRefreshIntervalMS":590.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"x22/50","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":180.0,"Top":2.0,"Visible":true,"Width":50.0,"Name":"Incidents","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var inc = isnull($prop('DataCorePlugin.GameRawData.Telemetry.PlayerCarTeamIncidentCount'),0);\r\nvar limit = $prop('DataCorePlugin.GameRawData.SessionData.WeekendInfo.WeekendOptions.IncidentLimit');\r\n\r\nvar limitText = 0;\r\nif (limit == 'unlimited')\r\n{\r\n\tlimitText = '∞';\r\n}\r\nelse if (limit >= 0)\r\n{\r\n\tlimitText = limit;\r\n}\r\n\r\nreturn 'x' + inc + '/' + limitText;\r\n"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"SoF 10.0k","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":90.0,"Top":2.0,"Visible":true,"Width":65.0,"Name":"SoF","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return 'SoF ' + $prop('IRacingExtraProperties.iRacing_Class_SOFk');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"45°C","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":5.0,"Top":2.0,"Visible":true,"Width":60.0,"Name":"TrackTemp","OriginalName":"TrackTemp","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"var temp = $prop('RoadTemperature').toFixed(0);\r\nvar units = String($prop('TemperatureUnit')).substring(0, 1);\r\n\r\nreturn temp + '°' + units;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":14.0,"Text":"22:22:22","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":20.0,"Left":5.0,"Top":2.0,"Visible":false,"Width":60.0,"Name":"Timer","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"Expression":"toshorttime(\r\n\r\n\r\nif(![DataCorePlugin.GameRunning],'--:--.---',(\r\n\r\nif(isnull([DataCorePlugin.CurrentGame],0)=='IRacing'\r\n,\r\n(\r\nif(\r\n(isnull([DataCorePlugin.GameRawData.Telemetry.SessionTimeRemain],0)<>604800),\r\nsecondstotimespan(isnull([DataCorePlugin.GameRawData.Telemetry.SessionTimeRemain],0)),'∞')\r\n)\r\n,isnull([DataCorePlugin.GameData.NewData.SessionTimeLeft],0))\r\n))\r\n\r\n,0,0,1)"},"Mode":2}}}],"Visible":true,"Name":"Header","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0}],"Visible":true,"Name":"Visible","RenderingSkip":20,"MinimumRefreshIntervalMS":200.0,"Bindings":{"Visible":{"Formula":{"JSExt":3,"Interpreter":1,"Expression":"return isGameIRacing() && isDriving();"},"Mode":2}}}],"MinimumRefreshIntervalMS":0.0}],"SnapToGrid":true,"HideLabels":true,"ShowForeground":true,"ForegroundOpacity":100.0,"ShowBackground":true,"BackgroundOpacity":100.0,"ShowBoundingRectangles":false,"GridSize":5,"Images":[],"Metadata":{"SimHubVersion":"9.6.1","Title":"benofficial2 - iRacing Relative","Author":"twitch.tv/benofficial2","ScreenCount":1.0,"InGameScreensIndexs":[0],"IdleScreensIndexs":[0],"MainPreviewIndex":0,"IsOverlay":true,"Width":305.0,"Height":170.0,"OverlaySizeWarning":false,"MetadataVersion":2.0,"EnableOnDashboardMessaging":true,"PitScreensIndexs":[]},"ShowOnScreenControls":true,"IsOverlay":true,"EnableClickThroughOverlay":true,"EnableOnDashboardMessaging":true}