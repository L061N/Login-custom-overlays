{"Variables":{"DashboardVariables":[{"VariableName":"overlapThreshold","EvaluateOnlyOnce":true,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"// The maximum distance ahead or behind for a car to be considered overlapping.\r\n// Could use a different value for each car for more accuracy.\r\nreturn 4.5"},"EvaluateBeforeScreenRoles":false},{"VariableName":"monitorVisible","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"const behindDist0 = $prop('IRacingExtraProperties.iRacing_DriverBehind_00_Distance');\r\nconst behindDist1 = $prop('IRacingExtraProperties.iRacing_DriverBehind_01_Distance');\r\nconst aheadDist0 = $prop('IRacingExtraProperties.iRacing_DriverAhead_00_Distance');\r\nconst aheadDist1 = $prop('IRacingExtraProperties.iRacing_DriverAhead_01_Distance');\r\n\r\nconst behind = (behindDist0 > 0 && behindDist0 <= $prop('variable.overlapThreshold')) || \r\n               (behindDist1 > 0 && behindDist1 <= $prop('variable.overlapThreshold'));\r\n\r\nconst ahead = (aheadDist0 < 0 && aheadDist0 >= -$prop('variable.overlapThreshold')) || \r\n              (aheadDist1 < 0 && aheadDist1 >= -$prop('variable.overlapThreshold'));\r\n\r\nreturn ahead || behind;"},"EvaluateBeforeScreenRoles":false},{"VariableName":"overlapBehind","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"const behindDist0 = $prop('IRacingExtraProperties.iRacing_DriverBehind_00_Distance');\r\nconst behindDist1 = $prop('IRacingExtraProperties.iRacing_DriverBehind_01_Distance');\r\nlet behind = 0\r\n\r\nif (behindDist0 > 0 && behindDist0 <= $prop('variable.overlapThreshold'))\r\n{\r\n\tbehind = behindDist0;\r\n}\r\n\r\nif (behindDist1 > 0 && behindDist1 <= $prop('variable.overlapThreshold'))\r\n{\r\n\tbehind = Math.max(behind, behindDist1);\r\n}\r\n\r\nreturn behind;"},"EvaluateBeforeScreenRoles":false},{"VariableName":"overlapAhead","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"const aheadDist0 = $prop('IRacingExtraProperties.iRacing_DriverAhead_00_Distance');\r\nconst aheadDist1 = $prop('IRacingExtraProperties.iRacing_DriverAhead_01_Distance');\r\nlet ahead = 0;\r\n\r\nif (aheadDist0 < 0 && aheadDist0 >= -$prop('variable.overlapThreshold'))\r\n{\r\n\tahead = aheadDist0;\r\n}\r\n\r\nif (aheadDist1 < 0 && aheadDist1 >= -$prop('variable.overlapThreshold'))\r\n{\r\n\tahead = Math.min(ahead, aheadDist1);\r\n}\r\n\r\nreturn ahead;"},"EvaluateBeforeScreenRoles":false},{"VariableName":"gapClear","EvaluateOnlyOnce":true,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return 3.5;"},"EvaluateBeforeScreenRoles":false},{"VariableName":"gapCare","EvaluateOnlyOnce":true,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return 1.5;"},"EvaluateBeforeScreenRoles":false}]},"DashboardDebugManager":{"WindowPositionSettings":{"IsFullScreen":false,"Position":"2629,326,695,135","TopMost":false,"AllowTransparency":true,"CloseOnMonitorLoss":false,"NoWindowActivate":false}},"Version":2,"Id":"8929d650-8c47-4ea8-964a-e6aa3c1d111c","BaseHeight":135,"BaseWidth":695,"BackgroundColor":"#FF000000","Screens":[{"RenderingSkip":0,"Name":"Screen","InGameScreen":true,"IdleScreen":true,"PitScreen":false,"ScreenId":"5f8a5f7a-8785-4ca9-9d31-d42762f5ece3","AllowOverlays":true,"IsForegroundLayer":false,"IsOverlayLayer":false,"OverlayTriggerExpression":{"Expression":""},"ScreenEnabledExpression":{"Expression":""},"OverlayMaxDuration":0,"OverlayMinDuration":0,"IsBackgroundLayer":false,"BackgroundColor":"#00FFFFFF","Items":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":true,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FFFFA145","BorderStyle":{"BorderColor":"#FF000000","BorderTop":3,"BorderBottom":3,"BorderLeft":3,"BorderRight":3,"RadiusTopLeft":10,"RadiusTopRight":10,"RadiusBottomLeft":10,"RadiusBottomRight":10},"Height":135.0,"Left":665.0,"Top":0.0,"Visible":true,"Width":30.0,"Name":"RectangleRight","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Top":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"if ($prop('variable.overlapAhead') < 0 && $prop('variable.overlapBehind') > 0)\r\n{\r\n\treturn 0;\r\n}\r\n\r\nreturn 135 * $prop('variable.overlapBehind') / $prop('variable.overlapThreshold');"},"Mode":2},"Height":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"if ($prop('variable.overlapAhead') < 0 && $prop('variable.overlapBehind') > 0)\r\n{\r\n\treturn 135;\r\n}\r\n\r\nif ($prop('variable.overlapBehind') > 0)\r\n{\r\n\treturn 135 - 135 * $prop('variable.overlapBehind') / $prop('variable.overlapThreshold');\r\n}\r\n\r\nif ($prop('variable.overlapAhead') < 0)\r\n{\r\n\treturn 135 + 135 * $prop('variable.overlapAhead') / $prop('variable.overlapThreshold');\r\n}\r\n\r\nreturn 0;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.ImageItem, SimHub.Plugins","Image":"Blind Spot Monitor","AutoSize":false,"BackgroundColor":"#00FFFFFF","Height":28.0,"Left":665.0,"Top":53.0,"Visible":true,"Width":30.0,"Name":"ImageRight","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0}],"Visible":true,"Name":"IndicatorRight","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"return $prop('variable.monitorVisible');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":true,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FFFFA145","BorderStyle":{"BorderColor":"#FF000000","BorderTop":3,"BorderBottom":3,"BorderLeft":3,"BorderRight":3,"RadiusTopLeft":10,"RadiusTopRight":10,"RadiusBottomLeft":10,"RadiusBottomRight":10},"Height":135.0,"Left":0.0,"Top":0.0,"Visible":true,"Width":30.0,"Name":"RectangleLeft","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Top":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"if ($prop('variable.overlapAhead') < 0 && $prop('variable.overlapBehind') > 0)\r\n{\r\n\treturn 0;\r\n}\r\n\r\nreturn 135 * $prop('variable.overlapBehind') / $prop('variable.overlapThreshold');"},"Mode":2},"Height":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"if ($prop('variable.overlapAhead') < 0 && $prop('variable.overlapBehind') > 0)\r\n{\r\n\treturn 135;\r\n}\r\n\r\nif ($prop('variable.overlapBehind') > 0)\r\n{\r\n\treturn 135 - 135 * $prop('variable.overlapBehind') / $prop('variable.overlapThreshold');\r\n}\r\n\r\nif ($prop('variable.overlapAhead') < 0)\r\n{\r\n\treturn 135 + 135 * $prop('variable.overlapAhead') / $prop('variable.overlapThreshold');\r\n}\r\n\r\nreturn 0;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.ImageItem, SimHub.Plugins","Image":"Blind Spot Monitor","AutoSize":false,"BackgroundColor":"#00FFFFFF","Height":28.0,"Left":0.0,"Top":53.0,"Visible":true,"Width":30.0,"Name":"ImageLeft","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0}],"Visible":true,"Name":"IndicatorLeft","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"return $prop('variable.monitorVisible');"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":true,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF52E052","BorderStyle":{"BorderColor":"#FF000000","BorderTop":3,"BorderBottom":3,"BorderLeft":3,"BorderRight":3,"RadiusTopLeft":6,"RadiusTopRight":6,"RadiusBottomLeft":6,"RadiusBottomRight":6},"Height":30.0,"Left":279.5,"Top":105.0,"Visible":true,"Width":135.0,"Name":"RectangleOffTrack","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"BackgroundColor":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"let name = getIndexedProp('IRacingExtraProperties.RLB_Behind_Name', 1)\r\nif (name == null || name == '')\r\n{\r\n\treturn 100;\r\n}\r\n\r\nlet gap = getIndexedProp('IRacingExtraProperties.RLB_Behind_RelativeGapToPlayer', 1);\r\ngap = Math.abs(gap);\r\n\r\nconst care = $prop('variable.gapCare');\r\nconst clear = $prop('variable.gapClear');\r\n\r\nif (gap >= clear)\r\n{\r\n\treturn 100;\r\n}\r\nelse if (gap >= care)\r\n{\r\n\tconst ratio = (gap - care) / (clear - care);\r\n\treturn ((100 - 50) * ratio) + 50;\r\n}\r\n\r\nconst ratio = gap / clear;\r\nreturn 50 * ratio;"},"StartColor":"#FFFF6345","EnableMiddleColor":true,"MiddleColor":"#FFEBAE00","MiddleColorValue":50.0,"EndColor":"#FF52E052","StartColorValue":0.0,"EndColorValue":100.0,"Mode":4}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":20.0,"Text":"88.8","TextColor":"#FF000000","HorizontalAlignment":2,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":30.0,"Left":344.0,"Top":104.0,"Visible":true,"Width":60.0,"Name":"Gap","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"let name = getIndexedProp('IRacingExtraProperties.RLB_Behind_Name', 1)\r\nif (name == null || name == '')\r\n{\r\n\treturn '';\r\n}\r\n\r\nlet gap = getIndexedProp('IRacingExtraProperties.RLB_Behind_RelativeGapToPlayer', 1);\r\ngap = Math.abs(gap).toFixed(1);\r\nreturn gap;"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":20.0,"Text":"Clear","TextColor":"#FF000000","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":30.0,"Left":290.0,"Top":104.0,"Visible":true,"Width":60.0,"Name":"Clear","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"let name = getIndexedProp('IRacingExtraProperties.RLB_Behind_Name', 1)\r\nif (name == null || name == '')\r\n{\r\n\treturn 'Clear';\r\n}\r\n\r\nlet gap = getIndexedProp('IRacingExtraProperties.RLB_Behind_RelativeGapToPlayer', 1);\r\ngap = Math.abs(gap)\r\n\r\nif (gap >= $prop('variable.gapClear'))\r\n{\r\n\treturn 'Clear';\r\n}\r\nelse if (gap >= $prop('variable.gapCare'))\r\n{\r\n\treturn 'Care';\r\n}\r\n\r\nreturn 'Yield';"},"Mode":2}}}],"Visible":true,"Name":"RejoinHelper","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"const surface = $prop('GameRawData.Telemetry.PlayerTrackSurface');\r\nreturn surface == 0;"},"Mode":2}}}],"Visible":true,"Name":"Visible","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"return isGameIRacing() && isGameRunning() && !isReplayPlaying() && !isInPitLane() &&\r\n       !isLoneQual();"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Segoe UI","FontWeight":"Bold","FontSize":12.0,"Text":"New version available","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFF0000","BorderStyle":{"RadiusTopLeft":3,"RadiusTopRight":3,"RadiusBottomLeft":3,"RadiusBottomRight":3},"Height":18.0,"Left":245.0,"Top":5.0,"Visible":false,"Width":205.0,"IsFreezed":true,"Name":"Version","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"if (root['hide'])\r\n{\r\n\treturn false;\r\n}\r\n\r\nconst url = 'https://raw.githubusercontent.com/fixfactory/bo2-official-overlays/main/Versions.json';\r\n\r\nconst jsonStr = downloadstringasync(500, url);\r\n\r\nif (jsonStr) \r\n{\r\n\tconst json = JSON.parse(jsonStr);\r\n\tif (json[root['name']] != root['version']) \r\n\t{\r\n        if (!root['timeChecked'])\r\n        {\r\n\t\t\troot['timeChecked'] = Date.now();\r\n\t\t}\r\n\r\n\t\tif (((Date.now() - root['timeChecked'])) < 5000)\r\n\t\t{\r\n\t\t\treturn true;\r\n        }\r\n    }\r\n    else\r\n    {\r\n        root['hide'] = true;\r\n    }\r\n}\r\n\r\nreturn false;","PreExpression":"// Download new version at https://github.com/fixfactory/bo2-official-overlays\r\nroot['name'] = 'blindspot'\r\nroot['version'] = '1.5'"},"Mode":2}}}],"MinimumRefreshIntervalMS":0.0}],"SnapToGrid":false,"HideLabels":false,"ShowForeground":true,"ForegroundOpacity":100.0,"ShowBackground":true,"BackgroundOpacity":100.0,"ShowBoundingRectangles":false,"GridSize":10,"Images":[{"Name":"Blind Spot Monitor","Extension":".png","Modified":false,"Optimized":true,"Width":194,"Height":179,"Length":4572,"MD5":"94fb88736c326da6f5b044c7c207ed3f"}],"Metadata":{"SimHubVersion":"9.6.1","Author":"twitch.tv/benofficial2","ScreenCount":1.0,"InGameScreensIndexs":[0],"IdleScreensIndexs":[0],"MainPreviewIndex":0,"IsOverlay":true,"Width":695.0,"Height":135.0,"OverlaySizeWarning":false,"MetadataVersion":2.0,"EnableOnDashboardMessaging":true,"PitScreensIndexs":[]},"ShowOnScreenControls":true,"IsOverlay":true,"EnableClickThroughOverlay":true,"EnableOnDashboardMessaging":true}